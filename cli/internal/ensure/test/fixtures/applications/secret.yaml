# An exmaple to show all the ways to populate secret values

applications:
  - name: example-secrets
    resources:
      - secret:
          name: test-secret-1
          namespace: default
          entries:
            aws_access_id:
              envVar: AWS_ACCESS_KEY_ID
            aws_secret_key:
              envVar: AWS_SECRET_ACCESS_KEY
      - secret:
          name: test-secret-2
          namespace: default
          entries:
            test-file:
              file: Makefile
      # Note: this requires valet is configured with GOOGLE_APPLICATION_CREDENTIALS granting
      # decrypt on the provided project/keyring/key
      - secret:
          name: test-secret-3
          namespace: default
          entries:
            test-file:
              gcloudKmsEncryptedFile:
                ciphertextFile: test-cloudbuild/ci/id_rsa.enc
                gcloudProject: solo-public
                keyring: build
                key: build-key

